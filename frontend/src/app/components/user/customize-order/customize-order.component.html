<!-- frontend/src/app/components/user/customize-order/customize-order.component.html -->
<div class="co-wrapper">
  <div class="co-card">
    <!-- Título con el nombre del sabor principal -->
    <h1 class="co-title">{{ flavor.nombre }}</h1>

    <!-- Imagen del sabor base -->
    <div class="co-flavor-image">
      <img
        [src]="flavor.imagen_url || 'assets/default-flavor.png'"
        alt="{{ flavor.nombre }}"
      />
    </div>

    <!-- Si hay error cargando toppings o tamaños -->
    <div *ngIf="errorMsg" class="co-error">{{ errorMsg }}</div>

    <!-- Sección de Toppings -->
    <h2 class="co-section-title">Toppings</h2>
    <div class="co-cards-grid">
      <div
        *ngFor="let t of toppings"
        class="co-card-item"
        [class.selected]="isToppingSelected(t)"
        (click)="toggleTopping(t)"
      >
        <img
          [src]="t.imagen_url || 'assets/default-topping.png'"
          alt="{{ t.nombre }}"
          class="co-card-img"
        />
        <span class="co-card-label">{{ t.nombre }}</span>
      </div>
    </div>

    <!-- Sección de Tamaños -->
    <h2 class="co-section-title">Tamaños</h2>
    <div class="co-cards-grid">
      <div
        *ngFor="let s of sizes"
        class="co-card-item"
        [class.selected]="isSizeSelected(s)"
        (click)="selectSize(s)"
      >
        <span class="co-card-label">{{ s.nombre }}</span>
        <span class="co-card-price">€{{ s.precio.toFixed(2) }}</span>
      </div>
    </div>

    <!-- Botón para agregar al carrito -->
    <button class="co-btn-primary" (click)="addToCart()">
      Agregar al pedido
    </button>
  </div>
</div>
