<div class="dashboard-wrapper">
  <header class="dashboard-header">
    <div class="logo-area">LOGO</div>
    <h1>Admin Dashboard</h1>

    <div class="header-actions">
      <button class="btn" (click)="showScheduleDialog = true" aria-label="Ajustar horario">
        âš™ Ajustar horario
      </button>
      <button class="btn" (click)="showLoyaltyDialog = true" aria-label="Configurar puntos">
        â­ Puntos
      </button>
      <button class="btn-logout" (click)="onLogout()">Cerrar SesiÃ³n</button>
    </div>
  </header>

  <nav class="dashboard-nav">
    <button (click)="setTab('stats')"      [class.active]="activeTab==='stats'">Pendientes</button>
    <button (click)="setTab('products')"   [class.active]="activeTab==='products'">Productos</button>
    <button (click)="setTab('inventory')"  [class.active]="activeTab==='inventory'">Inventario</button>
  </nav>

  <section class="tab-content">
    <!-- Pendientes -->
    <div *ngIf="activeTab==='stats'" class="tab-panel">
      <div class="mi-container">

        <ng-container *ngIf="pendingOrders?.length; else noPendientes">
          <ul class="orders">
            <li *ngFor="let o of pendingOrders" class="order">
              <div class="row">
                <div><strong>#{{ o.codigo_unico || o.id_pedido }}</strong></div>
                <div>Total: â‚¬{{ o.total?.toFixed?.(2) ?? o.total }}</div>
                <div>Estado: {{ o.estado }}</div>
              </div>
              <div class="actions">
                <button class="btn" (click)="markReady(o)">Marcar listo</button>
                <button class="btn" (click)="markDelivered(o)">Marcar completado</button>
                <button class="btn danger" (click)="markRejected(o)">Rechazar</button>
              </div>
            </li>
          </ul>
        </ng-container>

        <ng-template #noPendientes>
          <div class="empty">No hay pedidos pendientes.</div>
        </ng-template>
      </div>
    </div>

    <!-- Productos -->
    <div *ngIf="activeTab==='products'" class="tab-panel">
      <app-manage-products></app-manage-products>
    </div>

    <!-- Inventario -->
    <div *ngIf="activeTab==='inventory'" class="tab-panel">
      <app-manage-inventory></app-manage-inventory>
    </div>
  </section>
</div>

<!-- DiÃ¡logo Horario -->
<app-schedule-settings-dialog
  *ngIf="showScheduleDialog"
  (closed)="showScheduleDialog = false">
</app-schedule-settings-dialog>

<!-- DiÃ¡logo Puntos -->
<app-loyalty-settings-dialog
  *ngIf="showLoyaltyDialog"
  (closed)="showLoyaltyDialog = false">
</app-loyalty-settings-dialog>

