<div class="dashboard-wrapper">
  <header class="dashboard-header">
    <div class="logo-area">LOGO</div>
    <h1>Admin Dashboard</h1>

    <div class="header-actions">
      <button class="btn" (click)="showScheduleDialog = true" aria-label="Ajustar horario">
        ⚙ Ajustar horario
      </button>
      <button class="btn-logout" (click)="onLogout()">Cerrar Sesión</button>
    </div>
  </header>

  <nav class="dashboard-nav">
    <button (click)="setTab('stats')"      [class.active]="activeTab==='stats'">Pendientes</button>
    <button (click)="setTab('products')"   [class.active]="activeTab==='products'">Productos</button>
    <button (click)="setTab('inventory')"  [class.active]="activeTab==='inventory'">Inventario</button>
    <button (click)="setTab('promotions')" [class.active]="activeTab==='promotions'">Promociones</button>
  </nav>

  <section class="tab-content">
    <!-- Pendientes -->
    <div *ngIf="activeTab==='stats'" class="tab-panel">
      <div class="mi-container">
        <h2>Pedidos Pendientes</h2>

        <ul class="mi-list" *ngIf="pendingOrders.length; else noPendientes">
          <li *ngFor="let o of pendingOrders" class="mi-item">
            <div class="mi-info">
              <strong>{{ o.codigo_unico || o.id_pedido }}</strong>
              <span>Total: {{ o.total | number:'1.2-2' }} €</span>
              <span>Estado: {{ o.estado }}</span>
            </div>
            <div class="mi-actions">
              <button class="btn" (click)="markReady(o)">Marcar listo</button>
              <button class="btn primary" (click)="markDelivered(o)">Completar</button>
            </div>
          </li>
        </ul>

        <ng-template #noPendientes>
          <div class="empty">No hay pedidos pendientes.</div>
        </ng-template>
      </div>
    </div>

    <!-- Productos -->
    <div *ngIf="activeTab==='products'" class="tab-panel">
      <app-manage-products></app-manage-products>
    </div>

    <!-- Inventario -->
    <div *ngIf="activeTab==='inventory'" class="tab-panel">
      <app-manage-inventory></app-manage-inventory>
    </div>

    <!-- Promociones -->
    <div *ngIf="activeTab==='promotions'" class="tab-panel">
      <app-manage-promotions></app-manage-promotions>
    </div>
  </section>
</div>

<app-schedule-settings-dialog
  *ngIf="showScheduleDialog"
  (closed)="showScheduleDialog = false">
</app-schedule-settings-dialog>
